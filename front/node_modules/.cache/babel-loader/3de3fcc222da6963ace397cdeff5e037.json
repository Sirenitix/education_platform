{"ast":null,"code":"import { useNavigate } from \"react-router-dom\";\nexport class Service {\n  constructor() {\n    this.navigate = useNavigate();\n  }\n\n  async handleLogin(userData) {\n    console.log(\"hey\");\n    console.log(JSON.stringify(userData));\n    const res = await fetch(\"http://164.92.192.48:8081/authenticate\", {\n      method: \"POST\",\n      body: JSON.stringify(userData),\n      //TODO: check this point, maybe they need body\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const resJson = await res.json();\n    console.log(resJson);\n\n    if (res.status === 200) {\n      sessionStorage.setItem(\"access_token\", resJson.token);\n      console.log(sessionStorage.getItem(\"access_token\"));\n      this.navigate(\"/profile\");\n    }\n  }\n\n  async logout() {\n    sessionStorage.removeItem(\"access_token\");\n    this.navigate(\"/\");\n  }\n\n}","map":{"version":3,"names":["useNavigate","Service","navigate","handleLogin","userData","console","log","JSON","stringify","res","fetch","method","body","headers","Accept","resJson","json","status","sessionStorage","setItem","token","getItem","logout","removeItem"],"sources":["/Users/rahimlugma/Documents/Hackaton2/project 4 (share)/education_platform/front/src/service/Service.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nexport class Service {\n  navigate = useNavigate();\n\n  async handleLogin(userData) {\n    console.log(\"hey\");\n    console.log(JSON.stringify(userData));\n    const res = await fetch(\"http://164.92.192.48:8081/authenticate\", {\n      method: \"POST\",\n      body: JSON.stringify(userData), //TODO: check this point, maybe they need body\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    const resJson = await res.json();\n    console.log(resJson);\n    if (res.status === 200) {\n      sessionStorage.setItem(\"access_token\", resJson.token);\n      console.log(sessionStorage.getItem(\"access_token\"));\n      this.navigate(\"/profile\");\n    }\n  }\n\n  async logout() {\n    sessionStorage.removeItem(\"access_token\");\n    this.navigate(\"/\");\n  }\n}\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAO,MAAMC,OAAN,CAAc;EAAA;IAAA,KACnBC,QADmB,GACRF,WAAW,EADH;EAAA;;EAGF,MAAXG,WAAW,CAACC,QAAD,EAAW;IAC1BC,OAAO,CAACC,GAAR,CAAY,KAAZ;IACAD,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,QAAf,CAAZ;IACA,MAAMK,GAAG,GAAG,MAAMC,KAAK,CAAC,wCAAD,EAA2C;MAChEC,MAAM,EAAE,MADwD;MAEhEC,IAAI,EAAEL,IAAI,CAACC,SAAL,CAAeJ,QAAf,CAF0D;MAEhC;MAChCS,OAAO,EAAE;QACPC,MAAM,EAAE,kBADD;QAEP,gBAAgB;MAFT;IAHuD,CAA3C,CAAvB;IAQA,MAAMC,OAAO,GAAG,MAAMN,GAAG,CAACO,IAAJ,EAAtB;IACAX,OAAO,CAACC,GAAR,CAAYS,OAAZ;;IACA,IAAIN,GAAG,CAACQ,MAAJ,KAAe,GAAnB,EAAwB;MACtBC,cAAc,CAACC,OAAf,CAAuB,cAAvB,EAAuCJ,OAAO,CAACK,KAA/C;MACAf,OAAO,CAACC,GAAR,CAAYY,cAAc,CAACG,OAAf,CAAuB,cAAvB,CAAZ;MACA,KAAKnB,QAAL,CAAc,UAAd;IACD;EACF;;EAEW,MAANoB,MAAM,GAAG;IACbJ,cAAc,CAACK,UAAf,CAA0B,cAA1B;IACA,KAAKrB,QAAL,CAAc,GAAd;EACD;;AA1BkB"},"metadata":{},"sourceType":"module"}